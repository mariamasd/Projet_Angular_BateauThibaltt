<ion-header>
  <ion-toolbar>
    <ion-title>Votre Panier</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item *ngFor="let item of cartItems">
      <ion-avatar slot="start">
        <ion-icon name="fish" class="product-icon"></ion-icon>
      </ion-avatar>
      <ion-label>
        <h2>{{ item.name }}</h2>
      </ion-label>
      <ion-label slot="end">
        <ion-icon
          name="remove-circle"
          (click)="decrementQuantity(item)"
        ></ion-icon>
        <span>{{ item.quantity }}</span>
        <ion-icon
          name="add-circle"
          (click)="incrementQuantity(item)"
        ></ion-icon>
        <h3>{{ item.quantity }} x {{ item.price }}€ :  {{ item.quantity * item.price }}€</h3>
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-item>
    <ion-label>Total : {{ calculateTotal() }} €</ion-label>
  </ion-item>
  <ion-item>
    <ion-label><strong>Total:</strong></ion-label>
    <ion-label>{{ calculateTotal() }} €</ion-label>
  </ion-item>

  <ion-item (click)="openLocationActionSheet()">
    <ion-label>
      Lieu de livraison : {{ selectedLocation || 'Choisir un lieu' }}
    </ion-label>
  </ion-item>

  <!-- Sélection de la date de livraison -->
  <ion-item (click)="openDateActionSheet()">
    <ion-label>
      Date de livraison : {{ selectedDate && selectedTime ? selectedDate + ' à ' + selectedTime : 'Choisir une date et heure' }}
    </ion-label>
  </ion-item>


  <ion-footer>
    <ion-button expand="full" color="primary" (click)="validateCart()">Validez le panier</ion-button>
    
  </ion-footer>
</ion-content>
